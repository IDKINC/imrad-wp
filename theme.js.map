{"version":3,"sources":["charts.js","countUp.js","dynamic-map.js","site.js","voting.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"theme.js","sourcesContent":["/* start donut charts */\n(function (one) {\n    var chart = d3.select(\"#votesWith\"),\n    chartJ = jQuery('#votesWith'),\n    withColor = chartJ.data('withcolor'),\n    againstColor = chartJ.data('againstcolor');\n\n    var width = 400,\n        height = 400,\n        radius = 200,\n        colors = d3.scaleOrdinal()\n            .range([withColor, againstColor]);\n    var piedata = [{\n        label: \"Votes With Party\",\n        value: chartJ.data('with')\n    }, {\n        label: \"Votes Against Party\",\n        value: chartJ.data('against')\n    },];\n\n\n    var pie = d3.pie().value(function (d) {\n\n            return d.value;\n\n        })\n    var arc = d3.arc()\n        .innerRadius(radius - 100)\n        .outerRadius(radius)\n\n    var donutChart = chart.append('svg')\n    .attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n    .attr(\"viewBox\", \"0 0 \" + width + \" \" + height)\n        .append('g')\n        .attr('transform', 'translate(' + (width - radius) + ',' + (height - radius) + ')')\n        .selectAll('path').data(pie(piedata))\n        .enter().append('g')\n        .attr('class', 'slice')\n\n\n\n    var slices1 = d3.selectAll('g.slice')\n        .append('path')\n        .attr('fill', function (d, range) {\n            return colors(range);\n        })\n        .attr('d', arc)\n\n})();","function animateValue(id, start, end, duration) {\n    // assumes integer values for start and end\n    \n    var obj = document.querySelector(id);\n    var range = end - start;\n    // no timer shorter than 50ms (not really visible any way)\n    var minTimer = 50;\n    // calc step time to show all interediate values\n    var stepTime = Math.abs(Math.floor(duration / range));\n    \n    // never go below minTimer\n    stepTime = Math.max(stepTime, minTimer);\n    \n    // get current time and calculate desired end time\n    var startTime = new Date().getTime();\n    var endTime = startTime + duration;\n    var timer;\n  \n    function run() {\n        var now = new Date().getTime();\n        var remaining = Math.max((endTime - now) / duration, 0);\n        var value = Math.round(end - (remaining * range));\n        obj.innerHTML = value;\n        if (value == end) {\n            clearInterval(timer);\n        }\n    }\n    \n    timer = setInterval(run, stepTime);\n    run();\n}\n\n\nvar counters = document.querySelectorAll(\".countUp\");\nvar countersArr = [];\n\ncounters.forEach(function(counter, i){\n    counter.id = \"counter-\" + i;\n    countersArr[i] = \"#\" + counter.id;\n    \n});\n\ncountersArr.forEach(function(id, i){\n\n    return animateValue(id, 0, document.querySelector(id).dataset.number, 5000 * 0.5 * (i + 1));\n}); ","(function($){\n\n\n    var dynamicMap = $(\".dynamicMap\"),\n        zoomToggle = $(\"#zoomToggle\");\n\n        zoomToggle.click(function(){\n\n            if($(\".dynamicMap.zoom\").length){\n                $(\".dynamicMap.zoom\").remove();\n\n                $(\"html, body\").css(\"overflow\", \"inherit\");\n\n            } else {\n\n                dynamicMap.clone().appendTo($(\"html\")).addClass(\"zoom\");\n\n\n                $(\"html, body\").css(\"overflow\", \"hidden\");\n\n                $(\".dynamicMap.zoom #zoomToggle\").click(function(){\n\n                $(\".dynamicMap.zoom\").remove();\n\n\n                $(\"html, body\").css(\"overflow\", \"inherit\");\n\n\n                })\n            }\n\n\n        });\n\n\n\n\n})(jQuery);","\n(function ($) {\n\n\n\n\n    function bindToggleOpen(toggle, dropdown) {\n\n        $(toggle).click(function () {\n\n            console.log(toggle + \" CLICKED\");\n            var searchBar = $(dropdown);\n\n            if (searchBar.hasClass(\"is-open\")) {\n\n                searchBar.removeClass(\"is-open\");\n\n            } else {\n\n                $(\".is-open\").removeClass(\"is-open\");\n\n                searchBar.addClass(\"is-open\");\n                $(dropdwon + \" input\").focus();\n\n\n            }\n        });\n\n    }\n\n\n    bindToggleOpen(\"#mobileSearchToggle\", \"#searchBar\");\n    bindToggleOpen(\"#mobileMenuToggle\", \".header__nav\");\n\n\n    $(\"#submitSearch\").click(function (e) {\n\n        if ($(\"#searchBar\").hasClass('is-open')) {\n\n\n        } else {\n\n            e.preventDefault();\n\n            $(\"#searchBar\").addClass(\"is-open\");\n            $(\"#searchBar input\").focus();\n        }\n\n\n    });\n    $(\"#searchBar input\").focusout(function () {\n\n        if ($(this).val() === '') {\n\n            $(\"#searchBar\").removeClass(\"is-open\");\n\n        }\n\n\n    });\n\n\n})(jQuery);","jQuery(document).ready(function () {\n    jQuery(\"#votePlus\").click(function (e) {\n        e.preventDefault();\n        post_id = jQuery(this).attr(\"data-post_id\");\n        nonce = jQuery(this).attr(\"data-nonce\");\n        jQuery.ajax({\n            type: \"post\",\n            dataType: \"json\",\n            url: myAjax.ajaxurl,\n            data: { action: \"imrad_vote\", post_id: post_id, nonce: nonce, vote: 1 },\n            success: function (response) {\n                if (response.type == \"success\") {\n                    jQuery(\"#voteCount\").html(response.vote_count);\n                    jQuery('.voted').removeClass(\"voted\");\n\n                    jQuery(\"#votePlus\").addClass(\"voted\");\n                }\n                else {\n                    alert(\"Your like could not be added\");\n                }\n            }\n        });\n    });\n\n \n    jQuery(\"#voteMinus\").click(function (e) {\n        e.preventDefault();\n        post_id = jQuery(this).attr(\"data-post_id\");\n        nonce = jQuery(this).attr(\"data-nonce\");\n        jQuery.ajax({\n            type: \"post\",\n            dataType: \"json\",\n            url: myAjax.ajaxurl,\n            data: { action: \"imrad_vote\", post_id: post_id, nonce: nonce, vote: -1 },\n            success: function (response) {\n                if (response.type == \"success\") {\n                    jQuery(\"#evidence__\"+post_id+\" #voteCount\").html(response.vote_count);\n                    jQuery('.voted').removeClass(\"voted\");\n                    jQuery(\"#voteMinus\").addClass(\"voted\");\n\n                }\n                else {\n                    alert(\"Your like could not be added\");\n                }\n            }\n        });\n    });\n\n});"]}